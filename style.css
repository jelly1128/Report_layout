/* ========== 基本：紙ベースの単位で定義 ========== */
:root{
  --page-w: 210mm;            /* A4 幅 */
  --page-h: 297mm;            /* A4 高 */
  --page-margin: 5mm;        /* 印刷余白（PDFに合わせて調整） */
  --gap: 4mm;
  --rule-thick: 3px;
  --font-jp: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
             "Hiragino Sans", "Noto Sans JP", "Yu Gothic UI", "Meiryo", sans-serif;
}
*{ box-sizing: border-box; }
html,body{ margin:0; font-family:var(--font-jp); color:#111; line-height:1.35; }

/* 1ページ=1シート。画面でも印刷でも同じ寸法になるよう mm で固定 */
.sheet{
  width: var(--page-w);
  min-height: calc(var(--page-h) - var(--page-margin)*2);
  margin: 0 auto;             /* 画面中央寄せ */
  padding: 0;                 /* 余白は @page で与える */
  background: white;
}

/* 太い罫線（PDFの上ボーダー相当） */
/* .rule{ border:0; margin: 3mm 0 5mm; } */
.thick{ 
  border:0; 
  margin: 3mm 0 5mm; 
  border-top: var(--rule-thick) solid #000; 
}

/* ヘッダーの並び（左：大見出し／右：日付時刻） */
.report-header{
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: end;
  gap: 6mm;
  padding-top: 1mm;
}

.report-header h1{ 
    margin:0; 
    font-weight:700; 
    font-size: 32pt; 
    letter-spacing:.04em; 
}

.report-meta{ display:grid;
    justify-items:end;
    row-gap:1mm; 
    font-size: 16pt;
}

/* レイアウト全体：2カラム（左/右） */
.checks{
  display:grid;
  grid-template-columns: auto auto;
  align-items:start;
}

/* 左：タイトル＋リスト */
/* タイトル */
.checks__title{ 
    margin:0 0 0;
    font-weight:700;
    font-size: 20pt;
}

/* テーブル版 */
.checks__table {
  width: 100%;
  border-collapse: collapse;
  font-size: 16pt;
}

/* .checks__table th, */
.checks__table td {
  padding: 0.4em 0.4em;
  border: none; /* 枠線を消す */
  text-align: left;
}

.checks__table th {
  font-weight: bold;
}

.checks__table td:nth-child(2),
.checks__table th:nth-child(2) {
  text-align: center; /* ○や×を中央寄せ */
  /* width: 25mm; */
}

.checks__table td:nth-child(3),
.checks__table th:nth-child(3) {
  text-align: center; /* 観察時間を中央寄せ */
  /* width: 30mm; */
}

.label { white-space: nowrap; }
.mark { text-align: center;}
.mark--circle::after { content: "○";}
.mark--cross::after { content: "×";}
.time { text-align: right;}
.time_title { text-align: right;}

/* 右：開始・終了時刻 */
.checks__times{
  justify-self:end;
  display:grid;
  row-gap: 3mm;
  white-space:nowrap;                         /* 「○○:○○」が折れないように */
  font-size: 12pt;
}

.timeline-images {
  display: grid;
  grid-template-columns: auto 1fr;  /* ★これを追加 */
  gap: 4mm;
  margin-top: 15mm;
  break-inside: avoid;
}

/* 子の wrapper を“透明化”して中身（caption, img）を親グリッドの2列に直接流し込む */
.timeline-row {
  display: contents;               /* ★ここをcontentsに */
  /* align-items, gap は contents では無効になるので下で調整 */
}

.timeline-caption {
  font-size: 18pt;
  text-align: right;
  white-space: nowrap;             /* キャプションが折れないように */
  align-self: center;              /* 縦中央揃え */
  margin-right: 4mm;               /* 行内のキャプション-画像間隔 */
}

.timeline-images img {
  align-self: center;              /* 縦中央揃え */
  width: 100%;
  height: 50px;                    /* あなたの指定に合わせる（比率維持なら max-height 推奨） */
  border: 2px solid #000000;
  display: block;
}

/* 画像列に重ねる全体レイヤー（ここが“画像幅”と同じ幅の基準） */
.marker-layer {
  grid-column: 2;                  /* 右列（画像列）に配置 */
  grid-row: 1 / -1;                /* 全行を縦断 */
  position: relative;              /* マーカーの基準 */
  pointer-events: none;            /* クリック透過（任意） */
  z-index: 2;                      /* 画像より前面にしたい場合 */
}

/* マーカー（画像列の左端=0%、右端=100% で効く） */
.marker {
  position: absolute;
  top: 0;
  bottom: 0;
  left: var(--x);                  /* ★ここが“画像幅基準の%” */
  border-left: 0.6mm solid #000;
}

/* マーカーラベル */
.marker > span {
  position: absolute;
  top: -6mm;                       /* 画像列の上にラベル */
  left: 0;
  transform: translateX(-50%);
  font-size: 10pt;
  font-style: normal;
  font-weight: bold;
  background: #fff;
  padding: 0 1mm;
  line-height: 1;
}

/* ========== 印刷設定 ========== */
@page{
  size: A4;
  margin: var(--page-margin); /* ブラウザの余白ではなく紙の余白をCSSで指定 */
}

/* 画面表示での“見た目の余白”や影：印刷では消す */
@media screen {
  body{ background:#eee; }
  .sheet{
    /* 画面のときだけ周囲に余白を足し、紙感を出す */
    margin: 16px auto;
    padding: var(--page-margin);
    box-shadow: 0 0 0.8mm rgba(0,0,0,.15);
  }
}

/* 印刷の色ズレ・薄色対策（対応ブラウザで有効） */
@media print {
  * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .sheet{ padding: 0; box-shadow: none; }  /* 紙面は@pageのmarginに任せる */
  /* 改ページ制御：.sheet ごとにページ送り */
  .sheet { break-after: page; }
}

/* 画像と線幅の安定化 */
img{ max-width:100%; height:auto; }
hr{ border-top-width: var(--rule-thick); }

/* ページ内で分割したくないブロック（タイムライン等）に付ける */
.avoid-break{ break-inside: avoid; }
