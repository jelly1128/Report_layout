/* ========== 基本：紙ベースの単位で定義 ========== */
:root{
  --page-w: 210mm;            /* A4 幅 */
  --page-h: 297mm;            /* A4 高 */
  --page-margin: 5mm;        /* 印刷余白（PDFに合わせて調整） */
  --gap: 4mm;
  --rule-thick: 3px;
  --font-jp: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
             "Hiragino Sans", "Noto Sans JP", "Yu Gothic UI", "Meiryo", sans-serif;
}
*{ box-sizing: border-box; }
html,body{ margin:0; font-family:var(--font-jp); color:#111; line-height:1.35; }

/* 1ページ=1シート。画面でも印刷でも同じ寸法になるよう mm で固定 */
.sheet{
  width: var(--page-w);
  min-height: calc(var(--page-h) - var(--page-margin)*2);
  margin: 0 auto;             /* 画面中央寄せ */
  padding: 0;                 /* 余白は @page で与える */
  background: white;
}

/* 太い罫線（PDFの上ボーダー相当） */
.thick{ 
  border:0; 
  margin: 3mm 0 5mm; 
  border-top: var(--rule-thick) solid #000; 
}

/* ヘッダーの並び（左：大見出し／右：日付時刻） */
.report-header{
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: end;
  gap: 6mm;
  padding-top: 1mm;
}

.report-header h1{ 
    margin:0; 
    font-weight:700; 
    font-size: 32pt; 
    letter-spacing:.04em; 
}

.report-meta{ display:grid;
    justify-items:end;
    row-gap:1mm; 
    font-size: 16pt;
}

/* レイアウト全体：2カラム（左/右） */
.checks{
  display:grid;
  grid-template-columns: auto auto;
  align-items:start;
}

/* 左：タイトル＋リスト */
/* タイトル */
.checks__title{ 
    margin:0 0 0;
    font-weight:700;
    font-size: 20pt;
}

/* テーブル版 */
.checks__table {
  width: 100%;
  border-collapse: collapse;
  font-size: 16pt;
}

/* .checks__table th, */
.checks__table td {
  padding: 0.4em 0.4em;
  border: none; /* 枠線を消す */
  text-align: left;
}

.checks__table th {
  font-weight: bold;
}

.checks__table td:nth-child(2),
.checks__table th:nth-child(2) {
  text-align: center; /* ○や×を中央寄せ */
  /* width: 25mm; */
}

.checks__table td:nth-child(3),
.checks__table th:nth-child(3) {
  text-align: center; /* 観察時間を中央寄せ */
  /* width: 30mm; */
}

.label { white-space: nowrap; }
.mark { text-align: center;}
.mark--circle::after { content: "○";}
.mark--cross::after { content: "×";}
.time { text-align: right;}
.time_title { text-align: right;}

/* 右：開始・終了時刻 */
.checks__times{
  display: flex;
  flex-direction: column;
  align-items: flex-end;   /* 中身を右揃え */
  gap: 12px;               /* px を使うなら画面で安定 */
  font-size: 20px;         /* 画面では px/rem 推奨 */
  /* 親が Grid なら↓も有効 */
  /* justify-self: end; */
}

.position-image {
  margin-top: 24px;
  display: block;
  height: auto;
  max-width: 250px;        /* 大きいときだけ縮小 */
}

.timeline-block {
  display: grid;
  gap: 4mm;
  margin-top: 15mm;
  break-inside: avoid; /* ページ内で分割しない */
}

.timeline-row {
  display: grid;
  grid-template-columns: auto 1fr; /* 左：キャプション / 右：画像 */
  align-items: center;
  gap: 4mm;
}

.timeline-caption {
  font-size: 18pt;
  white-space: nowrap;
}

.timeline {
  position: relative;  /* マーカーの基準位置 */
  width: 100%;
  height: auto;
  box-sizing: border-box;    /* 枠線を含めてサイズ計算 */
}

.timeline img {
  position: relative;  /* マーカーの基準位置 */
  display: block;
  width: 100%;   /* 横幅いっぱいに伸ばす */
  height: auto;
  border: 2px solid #000000; /* 画像の枠線 */
}

.markers {
  position: absolute;
  inset: 0;
}

/* マーカー（縦線） */
.marker {
  position: absolute;
  height: 45mm;         /* 縦線の長さ */
  top: -3mm;             /* 画像の中央に合わせる */

  left: var(--x);                 /* leftを%で調整 */
  border-left: 2px solid #000000;  /* 縦線 */
  z-index: 1;                     /* 画像より前面に */
}

/* マーカーのラベル */
.marker > span {
  position: absolute;
  top: -8mm;                      /* 画像の外、上に出す */
  left: 0;
  transform: translateX(-50%);    /* 棒の中央に合わせる */
  font-size: 18pt;
}

.thick2{ 
  border:0; 
  margin: 8mm 0 5mm; 
  border-top: var(--rule-thick) solid #000; 
}

/* ========== 印刷設定 ========== */
@page{
  size: A4;
  margin: var(--page-margin); /* ブラウザの余白ではなく紙の余白をCSSで指定 */
}

/* 画面表示での“見た目の余白”や影：印刷では消す */
@media screen {
  body{ background:#eee; }
  .sheet{
    /* 画面のときだけ周囲に余白を足し、紙感を出す */
    margin: 16px auto;
    padding: var(--page-margin);
    box-shadow: 0 0 0.8mm rgba(0,0,0,.15);
  }
}

/* 印刷の色ズレ・薄色対策（対応ブラウザで有効） */
@media print {
  * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .sheet{ padding: 0; box-shadow: none; }  /* 紙面は@pageのmarginに任せる */
  /* 改ページ制御：.sheet ごとにページ送り */
  .sheet { break-after: page; }
}

/* 画像と線幅の安定化 */
img{ max-width:100%; height:auto; }
hr{ border-top-width: var(--rule-thick); }

/* ページ内で分割したくないブロック（タイムライン等）に付ける */
.avoid-break{ break-inside: avoid; }
